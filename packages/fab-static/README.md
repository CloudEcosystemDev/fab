---
name: "@fab/static"
route: "/packages/fab-static"
menu: Packages
---

# ðŸ’Ž @fab/static

Builds a FAB from a directory of static HTML and assets, with an optional server-side component.

[![oclif](https://img.shields.io/badge/cli-oclif-brightgreen.svg)](https://oclif.io)&nbsp;
[![Version](https://img.shields.io/npm/v/@fab/static.svg)](https://npmjs.org/package/@fab/static)&nbsp;
[![Downloads/week](https://img.shields.io/npm/dw/@fab/static.svg)](https://npmjs.org/package/@fab/static)&nbsp;
[![License](https://img.shields.io/npm/l/@fab/static.svg)](https://github.com/fab-spec/fab/blob/master/package.json)&nbsp;

## Getting Started

Install `@fab/static` as a development dependency:

```
yarn add --dev @fab/static
npm install --dev @fab/static
```

Add a couple of scripts to your `package.json`:

```diff
  "scripts": {
    "build": "[your existing build step]",
+   "build:fab": "npm run build && npm run fab:compile",
+   "fab:compile": "fab-static [dirname]"
  },
}
```

> Replace `dirname` with wherever your built files live (`build` for Create React App & friends, `public` for Gatsby, `dist` for some others)

We've added two scripts here, `fab:compile` which runs the `fab-static` builder, and `build:fab` that builds the project first. Most of the time, and especially you're using a FAB-enabled platform like [linc.sh](https://linc.sh), you'll mostly run `build:fab`, but having a separate `fab:compile` step can be handy as you set things up.

You can test it out by running: 

```
npm run build:fab
```

Once this is complete, you should have a `fab.zip` file (and a `.fab` directory with a bunch of build files). Those don't need to be checked in to your repository, so you can add them to your `.gitignore` file with this one-liner:

```
echo "\n.fab\nfab.zip" >> .gitignore
```

If you want to spin up your `fab.zip` file locally, you can use [**@fab/serve**](./fab-serve). You can either install it globally:

```
yarn global add @fab/serve
npm install --global @fab/serve

fab-serve fab.zip
``` 

Or use the awesome [**npx**](https://www.npmjs.com/package/npx) (which is bundled with NodeJS) to run a command-line NPM package without needing to install it:

```
npx @fab/serve fab.zip
```

You should see your app running on `http://localhost:3000`!

Note: this process will add one file `fab.zip` and one directory `.fab` into your project. 

## Usage

`@fab/static` takes the following options:

```
USAGE
  $ fab-static [DIRECTORY]

OPTIONS
  -h, --help                         show CLI help
  -o, --output=output                Output FAB file (default fab.zip)
  -p, --prod-settings=prod-settings  Path to production settings json
  -s, --server=server                Path to server entry file or directory
  -w, --working-dir=working-dir      Intermediate directory for working (default .fab)
  --intermediate-only

EXAMPLE
  $ fab-static ~/src/my-project/build
```

## Efficiently handling assets

The [`fab.zip`](https://fab.dev/#fabzip-specification) file only allows two componentsâ€”the first is a `server.js`, which is auto-generated by `@fab/static`, and the second is an `_assets` directory. If your assets _aren't in an `_assets` subdirectory_ (e.g. a `public` or `static` directory instead), `@fab/static` will automatically move them and generate server-side code to wire things up at runtime. **This process works fine**, but it's inefficient.

To read more about the rewriting process, visit the [**@fab/compile**](https://fab.dev/packages/fab-compile#_assets-vs-public-assets) documentation, or for a more general overview of why `_assets` is a core part of the FAB spec, visit [https://fab.dev/kb/no-assets-dir](https://fab.dev/kb/no-assets-dir)
